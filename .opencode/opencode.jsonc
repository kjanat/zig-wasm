{
  "$schema": "https://opencode.ai/config.json",
  "lsp": { // https://opencode.ai/docs/lsp/
    "biome": {
      "command": ["biome", "lsp-proxy"],
      "extensions": [".js", ".jsx", ".ts", ".tsx", ".json", ".jsonc"],
      "env": {}
    },
    "ruff": {
      "command": ["ruff", "server", "--preview"],
      "extensions": [".py", ".pyi"]
    },
    "ty": {
      "command": ["ty", "server"],
      "extensions": [".py", ".pyi"]
    }
  },
  "formatter": {
    "dprint": {
      "command": ["pnpm", "fmt", "$FILE"],
      // dprint-ignore
      "extensions": [
        ".js", ".jsx", ".ts", ".tsx", ".json", ".jsonc", ".cjs", ".mjs",
        ".md",
        ".dockerfile", ".dockerignore",
        ".yaml", ".yml",
        ".html", ".xml", ".css", ".sass", ".scss",
        ".toml",
        ".py"
      ],
      "environment": { "DPRINT_CONFIG_DISCOVERY": "false" }
    },
    "shfmt": {
      // dprint-ignore
      "command": [
        "shfmt", "--indent", "2", "--language-dialect", "bash",
        "--simplify", "--binary-next-line", "--case-indent",
        "--keep-padding", "--write", "$FILE"
      ],
      "extensions": ["sh"],
      "disabled": false
    },
    "ruff": {
      "disabled": true
    }
  },
  "mcp": {
    "gh_grep": {
      "type": "remote",
      "url": "https://mcp.grep.app",
      "enabled": true
    },
    "context7": {
      "type": "remote",
      "url": "https://mcp.context7.com/mcp",
      "headers": { "CONTEXT7_API_KEY": "{env:CONTEXT7_API_KEY}" },
      "enabled": true
    },
    "perplexity": {
      "type": "local",
      "command": ["pnpm", "dlx", "server-perplexity-ask@latest"],
      "environment": { "PERPLEXITY_API_KEY": "{env:PERPLEXITY_API_KEY}" },
      "enabled": true
    },
    "morphllm": {
      "type": "local",
      "command": ["pnpm", "dlx", "@morphllm/morphmcp"],
      "environment": {
        "MORPH_API_KEY": "{env:MORPH_API_KEY}",
        "ENABLED_TOOLS": "read_file,read_multiple_files,list_directory,list_directory_with_sizes,directory_tree,create_directory,search_files,move_file,get_file_info,list_allowed_directories"
      },
      "enabled": false
    }
  },
  "model": "anthropic/claude-opus-4-5",
  "small_model": "anthropic/claude-haiku-4-5",
  "share": "manual",
  "autoupdate": true,
  "instructions": ["AGENTS.md"],
  "experimental": {
    "chatMaxRetries": 1,
    "batch_tool": true
  },
  "username": "zig-wasm",
  "command": {
    "test": {
      "template": "Run the full test suite with coverage report and show any failures.\nFocus on the failing tests and suggest fixes.",
      "description": "Run tests with coverage",
      "agent": "build",
      "model": "anthropic/claude-haiku-4-5",
    },
  },
  "agent": {
    "code-reviewer": {
      "description": "Reviews code for best practices and potential issues",
      "model": "anthropic/claude-sonnet-4-5",
      "prompt": "You are a code reviewer. Focus on security, performance, and maintainability.",
      "tools": {
        // Disable file modification tools for review-only agent
        "write": false,
        "edit": false,
      },
    },
  },
}
